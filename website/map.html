<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Leaflet start-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
        integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
        crossorigin="" />
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
        integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
        crossorigin=""></script>
    <!-- Leaflet End-->
    <link rel="stylesheet" href="styles/map.css">
</head>

<body>

    <div id="map"> </div>
    <script>
        /*Initialisierne der Karte, festlegen der sichtbaren Position und der Start-Zoomstufe*/
        /* TODO: Function um automatisch die Karte mit anderen Koordinaten (Ã¼bergeben) aufzurufen */
        var map = L.map('map').setView([52.5085431, 13.3752057], 20);
        const tileUrl = 'https://api.maptiler.com/maps/openstreetmap/{z}/{x}/{y}.jpg?key=wi3XP92YvcmIfVHpo29G';
        const attribution = '<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>';
        const tiles = L.tileLayer(tileUrl, { attribution }).addTo(map);
    </script>


    <script>
        var key = (new URLSearchParams(window.location.search)).get("key")

        function get(url) {
            var strReturn = "";
            jQuery.ajax({
                url: url,
                success: function (html) {
                    strReturn = html;
                },
                async: false
            });
            return strReturn;
        }

        console.log(get("./api?getMapDataFromKey=" + key))

    </script>
</body>

</html>